<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../principal.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="titulo">
        App | Rol
    </ui:define>
    <ui:define name="contenido">
        <h:form>
        <p:dataTable var="rol" value="#{rolManager.rolList}" rows="10"
                 paginator="true"
                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                 currentPageReportTemplate="{startRecord}-{endRecord} of {totalRecords} records"
                 rowsPerPageTemplate="5,10,15">
            <!--p:column headerText="Id Rol" >
                <h:outputText value="#{rol.rolId}"/>
            </p:column-->
            <p:column headerText="Nombre Rol">
                <h:outputText value="#{rol.rolNombre}"/>
            </p:column>
            <p:column headerText="Acciones">
                <p:commandButton value="Detalle" icon="pi pi-pencil" title="Ver Detalle" oncomplete="showModal();" update=":formDetail">
                    <f:setPropertyActionListener value="#{rol}" target="#{rolManager.rol}"/>
                </p:commandButton>
            </p:column>
            
        </p:dataTable>
        </h:form>
        
        <div style="display: none;background: url(../images/header-background.jpg) no-repeat fixed;background-size: cover;" id="animatedModal" class="animated-modal" >
            <h4 class='card-title text-center' style="color:white;">Detalle del Rol&nbsp;<i class="fas fa-user-circle"></i></h4>
            <br/>
            <div>
                <center>
                <h:form id="formDetail">
                    <h:outputText value="ID"  style="color:white;"/>
                    <br/>
                    <p:inputText value="#{rolManager.rol.rolId}" readonly="true" style="text-align: center;"></p:inputText>
                    <br/><br/>
                    <h:outputText value="Nombre" style="color:white;"/>
                    <br/>
                    <p:inputText value="#{rolManager.rol.rolNombre}" style="text-align: center;"></p:inputText>
                    <br/><br/>
                    <p:commandButton value="Guardar" class="text-center" id="editButton" style="background:#00c1c8;border:none;"></p:commandButton>
                    &nbsp;
                    <p:commandButton value="Eliminar" class="text-center" id="deleteButton" style="background:#dc3545;border:none;"></p:commandButton>
                </h:form>
                </center>
            </div>
        </div>
        
        <button class="login100-form-btn" data-fancybox="true" data-animation-duration="700" data-src="#animatedModal" href="javascript:;" id="form" style="display:none;">
            Más información &nbsp;&nbsp;<i class="fas fa-user-circle"></i>
        </button>
        <script>
            
        $('.fancybox-close-small').css('color','white');
        let showModal=()=>{
            console.log('presionado');
            $('#form').click();
        }
        </script>
    </ui:define>
</ui:composition>
